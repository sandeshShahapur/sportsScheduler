(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{12:function(e,a,t){},14:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),m=t(2),r=t.n(m);t(12),t(13);const c=e=>{for(let a=e.length-1;a>0;a--){const t=Math.floor(Math.random()*(a+1));[e[a],e[t]]=[e[t],e[a]]}return e};var s=e=>{let{handleFetchSchedules:a}=e;const[t,m]=Object(l.useState)({teams:"",matchesBtwTeams:"",dayNumMatches:"",teamMatchesGap:"",teamDaysGap:"",curDate:(new Date).toISOString().split("T")[0],alwEmtDay:!1,alwTeamPairRecur:!1,opSchedCnt:""}),r=e=>{const{name:a,value:t,type:l,checked:n}=e.target;m(e=>({...e,[a]:"checkbox"===l?n:t}))};return n.a.createElement("div",{className:"col-10 col-md-8 col-lg-6 col-xl-5 border rounded-2 p-4 shadow mb-5"},n.a.createElement("form",{onSubmit:e=>{e.preventDefault();const l=e.target;let n=!0;const m=t.dayNumMatches.split(",").map(Number),r=c(t.teams.split(",").map(e=>e.trim()).filter(Boolean));if(m.some(isNaN)||m.some(e=>e<1)?(n=!1,l.dayNumMatches.setCustomValidity("Invalid number")):l.dayNumMatches.setCustomValidity(""),r.length<3?(n=!1,l.teams.setCustomValidity("Please provide at least 3 teams")):l.teams.setCustomValidity(""),l.classList.add("was-validated"),!l.checkValidity()||!n)return;const s={teams:r,matchesBtwTeams:Number(t.matchesBtwTeams),dayNumMatches:m,teamMatchesGap:Number(t.teamMatchesGap),teamDaysGap:Number(t.teamDaysGap),curDate:t.curDate,alwEmtDay:t.alwEmtDay,alwTeamPairRecur:t.alwTeamPairRecur,opSchedCnt:Number(t.opSchedCnt)};a(s)},className:"needs-validation",noValidate:!0},n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"teams",className:"form-label mb-1"},"Teams"),n.a.createElement("input",{type:"text",className:"form-control",id:"teams",name:"teams",placeholder:"comma seperated",value:t.teams,onChange:r,required:!0}),n.a.createElement("div",{className:"invalid-feedback"},"Please provide minimum 3 teams.")),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"matchesBtwTeams",className:"form-label mb-1"}," ","Matches Between Teams"),n.a.createElement("input",{type:"number",className:"form-control",id:"matchesBtwTeams",name:"matchesBtwTeams",placeholder:"minimum 1",value:t.matchesBtwTeams,onChange:r,min:1,required:!0}),t.matchesBtwTeams?n.a.createElement("div",{className:"invalid-feedback"},"Please provide a valid number."):n.a.createElement("div",{className:"invalid-feedback"},"Please provide the number of matches between teams.")),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"dayNumMatches",className:"form-label mb-1"},"Matches Count on Each Day"),n.a.createElement("input",{type:"text",className:"form-control",id:"dayNumMatches",name:"dayNumMatches",placeholder:"comma seperated (it will loop)",value:t.dayNumMatches,onChange:r,required:!0}),t.dayNumMatches?n.a.createElement("div",{className:"invalid-feedback"},"Please provide valid counts."):n.a.createElement("div",{className:"invalid-feedback"},"Please provide the matches count on each day.")),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"teamMatchesGap",className:"form-label mb-1"},"Matches Gap Count for a Team"),n.a.createElement("input",{type:"number",className:"form-control",id:"teamMatchesGap",name:"teamMatchesGap",placeholder:"0 for allowing no gap",value:t.teamMatchesGap,onChange:r,min:0,required:!0}),t.teamMatchesGap?n.a.createElement("div",{className:"invalid-feedback"},"Please provide a valid number."):n.a.createElement("div",{className:"invalid-feedback"},"Please provide the team matches gap.")),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"teamDaysGap",className:"form-label mb-1"},"Days Gap Count for a Team"),n.a.createElement("input",{type:"number",className:"form-control",id:"teamDaysGap",name:"teamDaysGap",placeholder:"0 for allowing no gap",value:t.teamDaysGap,onChange:r,min:0,required:!0}),t.teamDaysGap?n.a.createElement("div",{className:"invalid-feedback"},"Please provide a valid number."):n.a.createElement("div",{className:"invalid-feedback"},"Please provide the team days gap.")),n.a.createElement("div",{className:"mb-4"},n.a.createElement("label",{htmlFor:"curDate",className:"form-label mb-1"},"Starting Date"),n.a.createElement("input",{type:"date",className:"form-control",id:"curDate",name:"curDate",value:t.curDate,onChange:r}),n.a.createElement("div",{className:"invalid-feedback"},"Invalid starting date.")),n.a.createElement("div",{className:"mb-1 form-check"},n.a.createElement("label",{className:"form-check-label",htmlFor:"alwEmtDay"},"Allow Days with no Matches Played"),n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"alwEmtDay",name:"alwEmtDay",checked:t.alwEmtDay,onChange:r})),n.a.createElement("div",{className:"mb-4 form-check"},n.a.createElement("label",{className:"form-check-label",htmlFor:"alwTeamPairRecur"},"Allow Consecutive Matches with same Team Matchup"),n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"alwTeamPairRecur",name:"alwTeamPairRecur",checked:t.alwTeamPairRecur,onChange:r})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"opSchedCnt",className:"form-label mb-1"},"Output Schedule Count"),n.a.createElement("input",{type:"number",className:"form-control",id:"opSchedCnt",name:"opSchedCnt",placeholder:"0 to output all schedules",value:t.opSchedCnt,onChange:r,min:0,required:!0}),t.opSchedCnt?n.a.createElement("div",{className:"invalid-feedback"},"Please provide a valid number."):n.a.createElement("div",{className:"invalid-feedback"},"Please provide the optional schedule count.")),n.a.createElement("div",{className:"row justify-content-between column-gap-1"},n.a.createElement("button",{type:"submit",className:"col-auto col-sm-5 btn btn-primary mr-2"},"Submit"),n.a.createElement("button",{type:"button",className:"col-auto btn btn-secondary",onClick:()=>{m({teams:"Sharks, Thunder, Titans, Raptors",matchesBtwTeams:"2",dayNumMatches:"1, 1, 1, 1, 1, 2, 2",teamMatchesGap:"1",teamDaysGap:"1",curDate:(new Date).toISOString().split("T")[0],alwEmtDay:!0,alwTeamPairRecur:!0,opSchedCnt:"2"})}},"Fill Example Parameters"))))};var o=e=>{let{schedules:a}=e;const[t,m]=Object(l.useState)(0);if("undefined"===typeof a)throw new Error("Failed to load schedules");if(a&&0===a.length)return n.a.createElement("div",{className:"alert alert-warning",role:"alert"},"Could not generate any schedules for the given parameters. Please alter the parameters. ",n.a.createElement("br",null),n.a.createElement("strong",null,"Suggestion:")," Try enabling empty days and team pair recur, or you could also increase the number of teams.");for(let l=a.length-1;l>0;l--){const e=Math.floor(Math.random()*(l+1));[a[l],a[e]]=[a[e],a[l]]}let r=a[t];return n.a.createElement("div",{className:"p-4 border bor rounded-2 shadow"},n.a.createElement("div",{className:""},n.a.createElement("select",{className:"form-select",value:t,onChange:e=>m(e.target.value)},a.map((e,a)=>n.a.createElement("option",{key:a,value:a},"Schedule ",a+1)))),n.a.createElement("br",null),n.a.createElement("div",{className:"table-fit overflow-y-auto",style:{maxHeight:"620px"}},n.a.createElement("table",{className:"table table-hover pe-5 table-fit"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Match"),n.a.createElement("th",null,"Day"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Weekday"),n.a.createElement("th",null,"Team 1"),n.a.createElement("th",null,"Team 2"))),n.a.createElement("tbody",null,r.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e[0]),n.a.createElement("td",null,e[1]),n.a.createElement("td",null,e[2]),n.a.createElement("td",null,e[3]),n.a.createElement("td",null,e[4]),n.a.createElement("td",null,e[5])))))))};var i=()=>{const[e,a]=Object(l.useState)(!1),[t,m]=Object(l.useState)(!1),[r,c]=Object(l.useState)(!1),[i,d]=Object(l.useState)(""),[u,h]=Object(l.useState)(null);Object(l.useEffect)(()=>{const e=()=>{window.innerWidth<768?m(!0):m(!1)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);const p=async e=>{const a=await fetch("https://sportsscheduler-vxsj.onrender.com/generateStandardSchedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw 500===a.status?new Error("Failed to generate schedules! <br /> Likely invalid parameters, please try again with different parameters."):new Error("HTTP error! Status: ".concat(a.status));return a.json()};return n.a.createElement("div",null,n.a.createElement("header",{className:"container-fluid mb-5 p-5 bg-dark text-white"},n.a.createElement("h1",{className:"display-4 fw-bold"},"Sports Tournament Scheduler"),n.a.createElement("p",{className:"ps-md-2"},"A tool to generate tournament schedules for a given set of teams and parameters.")),n.a.createElement("main",{className:"container mb-5"},n.a.createElement("div",{className:"row align-content-center justify-content-center ".concat(e?" justify-content-xl-between":"")},n.a.createElement(s,{handleFetchSchedules:async e=>{a(!0);let t=!1;const l=setTimeout(()=>{t||c(!0)},2e3),n=setTimeout(()=>{t||(d("Process failure likely due to heavy computation.<br> Suggestions: Try with fewer teams or matches between teams."),c(!1))},7e4);d("");try{h(await p(e))}catch(i){d(i.message)}finally{clearTimeout(l),clearTimeout(n),t=!0,c(!1)}}}),t&&n.a.createElement("div",{className:"alert alert-info mt-3",role:"alert"},"For a better experience, please switch to desktop mode."),e&&n.a.createElement("div",{className:"col-12 col-xl-6"},i?n.a.createElement("div",{className:"alert alert-danger",role:"alert"},i):r?n.a.createElement("div",null,n.a.createElement("div",{className:"spinner-border float-start me-3 mb-5",role:"status"})," Loading... ",n.a.createElement("br",null),"If it is your first submit, it may take up to a minute."):u?n.a.createElement(o,{schedules:u}):null))),i&&n.a.createElement("div",{className:"mt-3 border-top border-3 pt-3 mb-2 text-center text-danger"},"If you are using any adblocker (e.g., Brave Shield of Brave browser), consider disabling it if you faced an error when submitting."))};var d=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,15)).then(a=>{let{getCLS:t,getFID:l,getFCP:n,getLCP:m,getTTFB:r}=a;t(e),l(e),n(e),m(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(i,null))),d()},3:function(e,a,t){e.exports=t(14)}},[[3,1,2]]]);
//# sourceMappingURL=main.0e999fc9.chunk.js.map